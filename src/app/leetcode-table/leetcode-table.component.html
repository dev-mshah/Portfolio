<mat-card class="leetCode-card">
    <div class="card-header">
        <img src="https://upload.wikimedia.org/wikipedia/commons/1/19/LeetCode_logo_black.png" alt="LeetCode" class="leetcode-icon">
        <h2 class="table-title">LeetCode Questions</h2>
    </div>

    <!-- Filter Section -->
    <div class="filter-section">
<mat-form-field appearance="outline">
    <mat-label>Category</mat-label>
    <mat-select [(ngModel)]="selectedCategory" (ngModelChange)="applyFilters()">
        <mat-option value="">All</mat-option>
        <mat-option *ngFor="let cat of categories" [value]="cat">
            <span class="option-content">
                <mat-icon>
                    {{ categoryIcons[cat] || 'help_outline' }}
                </mat-icon>
                {{ cat }}
            </span>
        </mat-option>
    </mat-select>
</mat-form-field>


        <mat-form-field appearance="outline">
            <mat-label>Difficulty</mat-label>
            <mat-select [(ngModel)]="selectedDifficulty" (ngModelChange)="applyFilters()">
                <mat-option value="">All</mat-option>
                <mat-option *ngFor="let diff of difficulties" [value]="diff">{{ diff }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Status</mat-label>
            <mat-select [(ngModel)]="selectedStatus" (ngModelChange)="applyFilters()">
                <mat-option value="">All</mat-option>
                <mat-option value="Unsolved">Unsolved</mat-option>
                <mat-option value="In Progress">In Progress</mat-option>
                <mat-option value="Solved">Solved</mat-option>
            </mat-select>
        </mat-form-field>
    </div>

    <!-- Add New Question Section -->
    <div class="add-section">
        <mat-form-field appearance="outline">
            <mat-label>Title</mat-label>
            <input matInput [(ngModel)]="newQuestion.title" placeholder="Enter question title">
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Difficulty</mat-label>
            <mat-select [(ngModel)]="newQuestion.difficulty">
                <mat-option *ngFor="let diff of difficulties" [value]="diff">{{ diff }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Category</mat-label>
            <input matInput [(ngModel)]="newQuestion.category" placeholder="Enter category">
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Link</mat-label>
            <input matInput [(ngModel)]="newQuestion.link" placeholder="Enter URL">
        </mat-form-field>

        <button mat-flat-button color="primary" (click)="addQuestion()">Add Question</button>
    </div>

    <!-- Table -->
    <div class="table-responsive">
        <table mat-table [dataSource]="filteredData" class="mat-elevation-z8">

            <!-- Columns same as before -->
            <ng-container matColumnDef="completed">
                <th mat-header-cell *matHeaderCellDef>Done</th>
                <td mat-cell *matCellDef="let element">
                    <mat-checkbox [(ngModel)]="element.completed" [name]="'completed_' + element.id"
                        (change)="toggleCompleted(element)">
                    </mat-checkbox>
                </td>
            </ng-container>

            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef>ID</th>
                <td mat-cell *matCellDef="let element">{{ element.id }}</td>
            </ng-container>

            <ng-container matColumnDef="title">
                <th mat-header-cell *matHeaderCellDef>Title</th>
                <td mat-cell *matCellDef="let element">{{ element.title }}</td>
            </ng-container>


            <ng-container matColumnDef="category">
                <th mat-header-cell *matHeaderCellDef>Category</th>
                <td mat-cell *matCellDef="let element">
                    <span class="category-cell">
                        <mat-icon>{{ categoryIcons[element.category] || 'help_outline' }}</mat-icon>
                        {{ element.category }}
                    </span>
                </td>
            </ng-container>


            <ng-container matColumnDef="difficulty">
                <th mat-header-cell *matHeaderCellDef>Difficulty</th>
                <td mat-cell *matCellDef="let element">
                    <span class="difficulty-chip" [ngClass]="{
                  'difficulty-easy': element.difficulty === 'Easy',
                  'difficulty-medium': element.difficulty === 'Medium',
                  'difficulty-hard': element.difficulty === 'Hard'
                }">
                        {{ element.difficulty }}
                    </span>
                </td>
            </ng-container>

            <ng-container matColumnDef="link">
                <th mat-header-cell *matHeaderCellDef>Link</th>
                <td mat-cell *matCellDef="let element">
                    <a [href]="element.link" target="_blank" rel="noopener noreferrer">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/1/19/LeetCode_logo_black.png" alt="LeetCode Link"
                            class="leetcode-link-icon" />
                    </a>
                </td>
            </ng-container>

            


       






            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            
        </table>
    </div>
</mat-card>